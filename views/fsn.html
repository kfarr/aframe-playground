{% extends 'layout.html' %}

{% block content %}

<a-scene>

  <a-assets>
    <img id="fsn" src="/images/fsn.png">
    <img id="selector" src="/images/selector.png">
    <img id="jsn" src="/images/jurassic-file-system.jpg">
  </a-assets>

  <a-sky color="black"></a-sky>

  <a-image src="#fsn" position="-2 5 1" rotation="0 45 0"></a-image>
  <a-image src="#jsn" position="2 5 1" rotation="0 -45 0" scale="1.6 .9 0"></a-image>

  <!-- Original "Handdrawn" boxes -->

  <!-- <a-box name="original custom box" position="0 -1 -.5" scale="2 .5 2" color="gray"></a-box> -->

  <!-- <a-box id="row1-col1" position="-.9 -.3 -1.3" scale=".6 .5 .6" color="orange">
    <a-event name="mouseenter" color="yellow"></a-event>
    <a-event name="mouseleave" color="orange"></a-event>
  </a-box>
  <a-box id="row1-col2" position=".9 -.3 -1.3" scale=".6 .7 .6" color="orange">
    <a-event name="mouseenter" color="yellow"></a-event>
    <a-event name="mouseleave" color="orange"></a-event>
  </a-box>
  <a-box id="row2-col1" position="-.9 -.3 .4" scale=".6 .2 .6" color="orange">
    <a-event name="mouseenter" color="yellow"></a-event>
    <a-event name="mouseleave" color="orange"></a-event>
  </a-box>
  <a-box id="row2-col2" position=".9 -.3 .4" scale=".6 .2 .6" color="orange">
    <a-event name="mouseenter" color="yellow"></a-event>
    <a-event name="mouseleave" color="orange"></a-event>
  </a-box> -->

  <a-camera position="2 4 6" rotation="-36.440115770320375 31.97104496829994 0">

    <a-entity cursor="fuse: true; maxDistance: 30; timeout: 500"
              position="0 0 -1"
              scale=".01 .01 .01"
              geometry="primitive: ring"
              material="color: red; shader: flat">
  </a-camera>

  <!-- <a-entity text="text: What's up" size="10" color="pink"></a-entity> -->

  <a-box name="directory bounding box" position="-1 0 -1" scale="1 1 1" height="1" width="{{ bounding_box_width }}" depth="{{ bounding_box_depth }}" color="gray"></a-box>

  {% for row in files_array %}
    {% set row_loop_index0 = loop.index0 %}
    {% for column in row %}
    <a-box id="filebox-row1-col{{ loop.index }}" filename="{{ column }}" position="{{ topleft_pos['x'] + (loop.index0 * FILE_BOX_DELTA) }}, {{ topleft_pos['y'] + 1 }}, {{ topleft_pos['z'] + (row_loop_index0 * FILE_BOX_DELTA) }}" scale=".6 .7 .6" color="orange">
      <a-event name="mouseenter" color="yellow"></a-event>
      <a-event name="mouseleave" color="orange"></a-event>
    </a-box>
    {% endfor %}
  {% endfor %}

  <a-image src="#selector" position="{{ topleft_pos['x'] + FILE_BOX_DELTA }} .5 {{ topleft_pos['z'] + FILE_BOX_DELTA}}" rotation="90 0 0" width="{{ bounding_box_width }}" height="{{ bounding_box_depth }}" scale="1.75 1.75 1.75"></a-image>
  <a-image src="#selector" position="{{ topleft_pos['x'] + FILE_BOX_DELTA }} -.5 {{ topleft_pos['z'] + FILE_BOX_DELTA}}" rotation="90 0 0" width="{{ bounding_box_width }}" height="{{ bounding_box_depth }}" scale="1.75 1.75 1.75"></a-image>

</a-scene>

{% endblock %}
